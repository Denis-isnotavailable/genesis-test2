{"version":3,"file":"static/js/882.c07a2b56.chunk.js","mappings":"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","sources":["pages/OneCoursePage/OneCoursePage.styled.jsx","components/LessonsList/LessonsList.style.jsx","components/LessonsList/LessonsList.jsx","pages/OneCoursePage/OneCoursePage.jsx"],"sourcesContent":["import { NavLink } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const OneCoursePageStyled = styled.div`\r\n    width: 320px;\r\n    margin: 24px auto;\r\n    padding: 0 20px;\r\n\r\n    h1 {\r\n        margin-bottom: 28px;\r\n        text-align: center;\r\n        font-size: 28px;\r\n    }\r\n\r\n    h2, h3 {\r\n        margin-bottom: 28px;\r\n        text-align: center;\r\n        font-size: 20px;\r\n    }\r\n\r\n    @media (min-width: 768px) {        \r\n        width: 728px;\r\n        \r\n        h1 {            \r\n            font-size: 40px;\r\n        }\r\n\r\n        h2 {\r\n            font-size: 24px;\r\n        }\r\n    }\r\n\r\n    @media (min-width: 1064px) {        \r\n        width: 1024px;     \r\n        \r\n        h1 {\r\n            margin-bottom: 48px;            \r\n            font-size: 48px;\r\n        }\r\n\r\n        h2 {\r\n            font-size: 28px;\r\n        }\r\n    }\r\n`;\r\n\r\nexport const ImageThumbStyled = styled.div`\r\n    width: 100%;\r\n    height: 140px;\r\n    margin-bottom: 24px;\r\n\r\n    @media (min-width: 768px){\r\n        margin-bottom: 32px;\r\n        height: 320px;\r\n    }\r\n\r\n    @media (min-width: 1064px) {\r\n        height: 450px;\r\n    }\r\n`;\r\n\r\nexport const DescriptionStyled = styled.ul`\r\n    margin-bottom: 24px;\r\n    padding: 0 20px;\r\n    font-size: 18px;\r\n\r\n    span {\r\n        font-weight: 500;\r\n    }\r\n\r\n    @media (min-width: 768px){\r\n        margin-bottom: 32px;\r\n        font-size: 24px;\r\n    }\r\n`;\r\n\r\nexport const ButtonThumbStyled = styled(NavLink)`\r\n    width: 108px;\r\n    height: 24px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    margin-bottom: 12px;\r\n    padding: 0;\r\n    border: none;\r\n    background-color: transparent;\r\n    cursor: pointer;\r\n    text-decoration: none;\r\n\r\n    font-weight: 700;\r\n    font-size: 18px;\r\n    line-height: 1.17;\r\n\r\n    color: #000000;\r\n`;","import styled from \"styled-components\";\r\n\r\n\r\nexport const LessonsListStyled = styled.ul``;\r\n\r\nexport const LessonItemStyled = styled.li`\r\n    border-radius: 6px;\r\n\r\n    background-color: ${p => p.status ? \"#ffffff\" : \"#ed9e9e\"};\r\n\r\n    cursor: pointer;\r\n\r\n    :not(:last-child) {\r\n        margin-bottom: 16px;\r\n    }\r\n\r\n    h4 {\r\n        margin-left: 20px;\r\n    }\r\n\r\n    transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n\r\n    :hover,\r\n    :focus {\r\n        background-color: ${p => p.status && \"#dbdbe1\"};        \r\n    }\r\n`;\r\n\r\nexport const LessonDescriptionStyled = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    height: 48px;\r\n`;\r\n\r\nexport const VideoStyled = styled.div`\r\n    margin-bottom: 24px; \r\n\r\n    @media (min-width: 768px){\r\n        margin-bottom: 32px;        \r\n    }\r\n`;","import { useRef } from \"react\";\r\nimport { AiFillUnlock, AiFillLock } from \"react-icons/ai\";\r\nimport ReactPlayer from 'react-player';\r\n\r\nimport {\r\n    LessonItemStyled,\r\n    LessonsListStyled,\r\n    LessonDescriptionStyled,\r\n    VideoStyled\r\n} from \"./LessonsList.style\";\r\n\r\n\r\nconst LessonsList = ({\r\n    lessons,\r\n    currentLesson,\r\n    currentLessonTime,\r\n    handleSetLessonData,\r\n    handleSetLessonTime }) => {\r\n    const player = useRef();\r\n   \r\n    return (\r\n        <LessonsListStyled>\r\n            {[...lessons]\r\n            .sort((lesson1, lesson2) => lesson1.order - lesson2.order)\r\n            .map(lesson =>\r\n            <LessonItemStyled\r\n                key={lesson.id}\r\n                onClick={() => handleSetLessonData(lesson)}\r\n                status={lesson.status === \"unlocked\" && lesson.link}\r\n            >\r\n                <LessonDescriptionStyled>\r\n                    <div>{lesson.status === \"unlocked\" && lesson.link ? <AiFillUnlock size={38} /> : <AiFillLock size={38} />}</div>\r\n                    <h4>Lesson {lesson.order}: {lesson.title}</h4>\r\n                </LessonDescriptionStyled>\r\n                \r\n                    \r\n                {currentLesson?.order === lesson?.order &&\r\n                lesson?.status !== \"locked\" && lesson.link &&\r\n                <VideoStyled>\r\n                    <ReactPlayer\r\n                        ref={player}\r\n                        url={lesson.link}                                                \r\n                        muted={true}    \r\n                        pip={true}\r\n                        stopOnUnmount={false}\r\n                        config={{\r\n                            file: {\r\n                                hlsOptions: { \r\n                                    autoStartLoad: true,\r\n                                    startPosition: currentLessonTime,                                                    \r\n                                }}\r\n                        }}\r\n                        controls                                \r\n                        width={'100%'}\r\n                        onProgress={e => currentLesson?.order === lesson?.order && handleSetLessonTime(e.playedSeconds)}\r\n                    />\r\n                </VideoStyled>}\r\n            </LessonItemStyled>)}\r\n        </LessonsListStyled>\r\n                        \r\n    );\r\n}\r\n\r\nexport default LessonsList;","import { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { AiOutlineArrowLeft } from \"react-icons/ai\";\r\n\r\nimport {\r\n    getOneCourse,\r\n    resetOneCourse,\r\n    setCurrentWatchingLesson\r\n} from \"../../redux/operations\";\r\nimport {\r\n    DescriptionStyled,\r\n    ImageThumbStyled,\r\n    OneCoursePageStyled,\r\n    ButtonThumbStyled\r\n} from \"./OneCoursePage.styled\";\r\nimport LessonsList from \"components/LessonsList/LessonsList\";\r\n\r\n\r\nconst OneCoursePage = () => {\r\n    const dispatch = useDispatch();\r\n    const { id } = useParams();\r\n    const course = useSelector(state => state.courses.oneCourse);\r\n    const isLoading = useSelector(state => state.courses.isLoading);\r\n    const currentWatchingLesson = useSelector(state => state.currentLessons.currentWatchingLesson);\r\n    const [currentLesson, setCurrentLesson] = useState(null);\r\n    const [currentLessonTime, setCurrentLessonTime] = useState(0);\r\n    \r\n\r\n    useEffect(() => {\r\n        dispatch(getOneCourse(id));\r\n\r\n        return () => dispatch(resetOneCourse());    \r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const i = currentWatchingLesson.findIndex(lesson => lesson.courseId === id);\r\n        if (i !== -1) {\r\n            setCurrentLesson(currentWatchingLesson[i]);\r\n            setCurrentLessonTime(currentWatchingLesson[i].currentLessonTime);\r\n        }\r\n        else if (Object.keys(course).length !== 0) {\r\n            const i = course.lessons.findIndex(lesson => lesson.order === 1);          \r\n            setCurrentLesson(course.lessons[i]);\r\n        }        \r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [course]);\r\n\r\n    useEffect(() => {\r\n        const handleWriteCurrentLesson = () => {\r\n            if (currentLessonTime !== 0) {\r\n                const lesson = [];\r\n                lesson[id] = { ...currentLesson, currentLessonTime, courseId: id };\r\n                dispatch(setCurrentWatchingLesson({ ...currentLesson, currentLessonTime, courseId: id }));\r\n            }\r\n        }\r\n        return () => handleWriteCurrentLesson();   \r\n    \r\n    }, [currentLesson, currentLessonTime, dispatch, id]);   \r\n\r\n    \r\n\r\n    const handleSetLessonData = (lesson) => {\r\n        if (lesson.status === \"unlocked\") {            \r\n            setCurrentLesson(lesson);\r\n            setCurrentLessonTime(0);          \r\n        };      \r\n    }   \r\n\r\n    const handleSetLessonTime = (time) => {\r\n        const t = time;\r\n        if (time !== 0 && t - currentLessonTime >= 2) {           \r\n            setCurrentLessonTime(time);            \r\n        };      \r\n    }\r\n\r\n    \r\n    const { previewImageLink,\r\n        description,\r\n        title,       \r\n        rating,\r\n        lessons,\r\n        duration } = course;\r\n   \r\n    return (\r\n        <>{!isLoading && Object.keys(course).length !== 0 &&\r\n        <OneCoursePageStyled>\r\n            \r\n            <ButtonThumbStyled to={\"/\"} >\r\n                <AiOutlineArrowLeft size={24} /> GO BACK\r\n            </ButtonThumbStyled>\r\n                \r\n            <ImageThumbStyled>\r\n                <img src={`${previewImageLink}/cover.webp`} alt=\"course poster\" width={\"100%\"} height={\"100%\"} />\r\n            </ImageThumbStyled>\r\n                \r\n            <h1>{title}</h1>\r\n            <h2>{description}</h2>                    \r\n\r\n            <DescriptionStyled>\r\n                <li>Lessons: <span>{lessons.reduce((acc, l) => acc = l.status === \"unlocked\" ? acc + 1 : acc, 0)}</span></li>\r\n                <li>Rating: <span>{rating}</span></li>\r\n                <li>Duration: <span>{duration} hours</span></li>\r\n            </DescriptionStyled>\r\n\r\n            <h3>Choose the lesson to watch</h3>\r\n            \r\n            <LessonsList\r\n                lessons={lessons}                        \r\n                currentLesson={currentLesson}\r\n                currentLessonTime={currentLessonTime}\r\n                handleSetLessonData={handleSetLessonData}\r\n                handleSetLessonTime={handleSetLessonTime}\r\n            /> \r\n            \r\n        </OneCoursePageStyled>}</>            \r\n    );\r\n}\r\n\r\nexport default OneCoursePage;"],"names":["OneCoursePageStyled","styled","_templateObject","_taggedTemplateLiteral","ImageThumbStyled","_templateObject2","DescriptionStyled","_templateObject3","ButtonThumbStyled","NavLink","_templateObject4","LessonsListStyled","LessonItemStyled","p","status","LessonDescriptionStyled","VideoStyled","_ref","lessons","currentLesson","currentLessonTime","handleSetLessonData","handleSetLessonTime","player","useRef","_jsx","children","_toConsumableArray","sort","lesson1","lesson2","order","map","lesson","_jsxs","onClick","link","AiFillUnlock","size","AiFillLock","title","ReactPlayer","ref","url","muted","pip","stopOnUnmount","config","file","hlsOptions","autoStartLoad","startPosition","controls","width","onProgress","e","playedSeconds","id","dispatch","useDispatch","useParams","course","useSelector","state","courses","oneCourse","isLoading","currentWatchingLesson","currentLessons","_useState","useState","_useState2","_slicedToArray","setCurrentLesson","_useState3","_useState4","setCurrentLessonTime","useEffect","getOneCourse","resetOneCourse","i","findIndex","courseId","Object","keys","length","_objectSpread","setCurrentWatchingLesson","previewImageLink","description","rating","duration","_Fragment","to","AiOutlineArrowLeft","src","concat","alt","height","reduce","acc","l","LessonsList","time"],"sourceRoot":""}