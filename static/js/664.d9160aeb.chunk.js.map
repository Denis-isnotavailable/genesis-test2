{"version":3,"file":"static/js/664.d9160aeb.chunk.js","mappings":"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","sources":["pages/OneCoursePage/OneCoursePage.styled.jsx","pages/OneCoursePage/OneCoursePage.jsx"],"sourcesContent":["import { NavLink } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const OneCoursePageStyled = styled.div`\r\n    width: 320px;\r\n    margin: 24px auto;\r\n    padding: 0 20px;\r\n\r\n    h1 {\r\n        margin-bottom: 28px;\r\n        text-align: center;\r\n        font-size: 28px;\r\n    }\r\n\r\n    h2, h3 {\r\n        margin-bottom: 28px;\r\n        text-align: center;\r\n        font-size: 20px;\r\n    }\r\n\r\n    @media (min-width: 768px) {        \r\n        width: 728px;\r\n        \r\n        h1 {            \r\n            font-size: 40px;\r\n        }\r\n\r\n        h2 {\r\n            font-size: 24px;\r\n        }\r\n    }\r\n\r\n    @media (min-width: 1064px) {        \r\n        width: 1024px;     \r\n        \r\n        h1 {\r\n            margin-bottom: 48px;            \r\n            font-size: 48px;\r\n        }\r\n\r\n        h2 {\r\n            font-size: 28px;\r\n        }\r\n    }\r\n`;\r\n\r\nexport const ImageThumbStyled = styled.div`\r\n    width: 100%;\r\n    height: 140px;\r\n    margin-bottom: 24px;\r\n\r\n    @media (min-width: 768px){\r\n        margin-bottom: 32px;\r\n        height: 320px;\r\n    }\r\n\r\n    @media (min-width: 1064px) {\r\n        height: 450px;\r\n    }\r\n`;\r\n\r\nexport const DescriptionStyled = styled.ul`\r\n    margin-bottom: 24px;\r\n    padding: 0 20px;\r\n    font-size: 18px;\r\n\r\n    span {\r\n        font-weight: 500;\r\n    }\r\n\r\n    @media (min-width: 768px){\r\n        margin-bottom: 32px;\r\n        font-size: 24px;\r\n    }\r\n`;\r\n\r\nexport const VideoStyled = styled.div`\r\n    margin-bottom: 24px; \r\n\r\n    @media (min-width: 768px){\r\n        margin-bottom: 32px;        \r\n    }\r\n`;\r\n\r\nexport const LessonsListStyled = styled.ul``;\r\n\r\nexport const LessonItemStyled = styled.li`\r\n    position: relative;\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    height: 48px;\r\n    border-radius: 6px;\r\n\r\n    background-color: ${p => p.status ? \"#ffffff\" : \"#ed9e9e\"};\r\n\r\n    cursor: pointer;\r\n\r\n    :not(:last-child) {\r\n        margin-bottom: 16px;\r\n    }\r\n\r\n    h4 {\r\n        margin-left: 20px;\r\n    }\r\n\r\n    transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n\r\n    :hover,\r\n    :focus {\r\n        background-color: ${p => p.status && \"#dbdbe1\"};        \r\n    }\r\n`;\r\n\r\nexport const ButtonThumbStyled = styled(NavLink)`\r\n    width: 108px;\r\n    height: 24px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    margin-bottom: 12px;\r\n    padding: 0;\r\n    border: none;\r\n    background-color: transparent;\r\n    cursor: pointer;\r\n    text-decoration: none;\r\n\r\n    font-weight: 700;\r\n    font-size: 18px;\r\n    line-height: 1.17;\r\n\r\n    color: #000000;\r\n`;","// import \"@babel/polyfill\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { AiFillUnlock, AiFillLock, AiOutlineArrowLeft } from \"react-icons/ai\";\r\nimport ReactPlayer from 'react-player'\r\n// import Hls from \"hls.js\";\r\n\r\nimport { getOneCourse, resetOneCourse } from \"../../redux/operations\";\r\nimport { DescriptionStyled, ImageThumbStyled, LessonItemStyled, LessonsListStyled, OneCoursePageStyled, VideoStyled, ButtonThumbStyled } from \"./OneCoursePage.styled\";\r\n\r\n\r\nconst OneCoursePage = () => {\r\n    const dispatch = useDispatch();\r\n    const { id } = useParams();\r\n    const course = useSelector(state => state.oneCourse);\r\n    const isLoading = useSelector(state => state.isLoading);    \r\n    const [videoLink, setVideoLink] = useState(\"\");\r\n    const [currentLesson, setCurrentLesson] = useState(1);\r\n    // const [currentLessonTime, setCurrentLessonTime] = useState(0);\r\n    // const video = useRef(); \r\n    const player = useRef()\r\n\r\n    console.log(player);\r\n    \r\n\r\n    useEffect(() => {\r\n        dispatch(getOneCourse(id));    \r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if(Object.keys(course).length !== 0) setVideoLink(course?.lessons[0]?.link)\r\n    }, [course]);\r\n\r\n    // useEffect(() => {\r\n    //     const hls = new Hls();\r\n\r\n    //     hls.loadSource(\"https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8\");\r\n    //     hls.attachMedia(video);\r\n    //     hls.on(Hls.Events.MANIFEST_PARSED, function() { video.play(); });\r\n    // }, [videoLink]);\r\n\r\n    const handleSetVideoLink = (link, status, order) => {\r\n        if (status === \"unlocked\" && link !== videoLink) {\r\n            setVideoLink(link);\r\n            setCurrentLesson(order);\r\n        };      \r\n    }\r\n\r\n    // const handleSetVideoTimeUpdate = (currentTime) => {\r\n    //     setCurrentLessonTime(currentTime);\r\n    //     console.log(currentLessonTime);\r\n    // }\r\n\r\n    // console.log(course);\r\n    console.log(videoLink);    \r\n\r\n    \r\n    const { previewImageLink,\r\n        description,\r\n        title,       \r\n        rating,\r\n        lessons,\r\n        duration } = course;\r\n   \r\n    return (\r\n        <>\r\n            {\r\n                !isLoading && Object.keys(course).length !== 0 &&\r\n                <OneCoursePageStyled>\r\n                    \r\n                    <ButtonThumbStyled to={\"/\"} onClick={() => dispatch(resetOneCourse())}>\r\n                        <AiOutlineArrowLeft size={24} /> GO BACK\r\n                    </ButtonThumbStyled>\r\n                        \r\n                    <ImageThumbStyled>\r\n                        <img src={`${previewImageLink}/cover.webp`} alt=\"course poster\" width={\"100%\"} height={\"100%\"} />\r\n                    </ImageThumbStyled>\r\n                        \r\n                    <h1>{title}</h1>\r\n                    <h2>{description}</h2>                    \r\n\r\n                    <DescriptionStyled>\r\n                        <li>Lessons: <span>{lessons.reduce((acc, l) => acc = l.status === \"unlocked\" ? acc + 1 : acc, 0)}</span></li>\r\n                        <li>Rating: <span>{rating}</span></li>\r\n                        <li>Duration: <span>{duration} hours</span></li>\r\n                    </DescriptionStyled>\r\n                        \r\n                        <h3>Lesson {currentLesson}</h3>  \r\n\r\n                        <VideoStyled>\r\n                            \r\n\r\n                            <ReactPlayer\r\n                                ref={player}\r\n                                url={videoLink}\r\n                                // url={'https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8'}\r\n                                controls                                \r\n                                width={'100%'}\r\n                                // onReady={() => player.getInternalPlayer('hls')}\r\n                                // config={{\r\n                                //     file: {\r\n                                //     hlsOptions: {\r\n                                //         forceHLS: true,\r\n                                //         debug: false,                                    \r\n                                //     },\r\n                                //     },\r\n                                // }}\r\n                            />\r\n\r\n                            \r\n                        {/* <video\r\n                            // src={videoLink}\r\n                            // ref={video}\r\n                            // src=\"http://techslides.com/demos/sample-videos/small.mp4\"                \r\n                            width=\"100%\"\r\n                            controls\r\n                            preload=\"auto\"\r\n                            onLoadStart={e => e.target.currentTime = 2}\r\n                            onTimeUpdate={e => handleSetVideoTimeUpdate(e.target.currentTime)}\r\n                            >                                \r\n                        </video> */}\r\n                    </VideoStyled>                    \r\n\r\n                    <h3>Choose the lesson to watch</h3>\r\n                        \r\n                    <LessonsListStyled>\r\n                            {[...lessons]\r\n                                .sort((lesson1, lesson2) => lesson1.order - lesson2.order)\r\n                                .map(lesson =>\r\n                                <LessonItemStyled\r\n                                    key={lesson.id}\r\n                                    onClick={() => handleSetVideoLink(lesson.link, lesson.status, lesson.order)}\r\n                                    status={lesson.status === \"unlocked\" && lesson.link}\r\n                                >\r\n                                    <div>{lesson.status === \"unlocked\" && lesson.link ? <AiFillUnlock size={38} /> : <AiFillLock size={38} />}</div>\r\n                                    <h4>Lesson {lesson.order}: {lesson.title}</h4>\r\n                                </LessonItemStyled>)}\r\n                    </LessonsListStyled> \r\n                    \r\n                </OneCoursePageStyled>\r\n            }\r\n        </>\r\n                        \r\n    );\r\n}\r\n\r\nexport default OneCoursePage;\r\n\r\n\r\n\r\n            // {/* <img src={lessons && `${lessons[0].previewImageLink}/${lessons[0].order}.webp`} alt=\"lesson poster\" width={320} /> */}\r\n\r\n            // {/* <ReactPlayer url='https://www.youtube.com/watch?v=ysz5S6PUM-U' controls={true} /> */}\r\n\r\n            // {/* <video src=\"https://wisey.app/videos/lack-of-motivation-how-to-overcome-it/lesson-2/AppleHLS1/lesson-2.m3u8\" controls></video> */}\r\n\r\n            // {/* <div>\r\n            //     <video width={640} controls preload=\"auto\" >\r\n            //         <source                        \r\n            //             src={'https://youtu.be/7gphiFVVtUI'}\r\n            //             // type=\"application/x-mpegURL\"\r\n                        \r\n            //         />\r\n            //     </video>\r\n            // </div> */}"],"names":["OneCoursePageStyled","styled","_templateObject","_taggedTemplateLiteral","ImageThumbStyled","_templateObject2","DescriptionStyled","_templateObject3","VideoStyled","_templateObject4","LessonsListStyled","_templateObject5","LessonItemStyled","_templateObject6","p","status","ButtonThumbStyled","NavLink","_templateObject7","dispatch","useDispatch","id","useParams","course","useSelector","state","oneCourse","isLoading","_useState","useState","_useState2","_slicedToArray","videoLink","setVideoLink","_useState3","_useState4","currentLesson","setCurrentLesson","player","useRef","console","log","useEffect","getOneCourse","_course$lessons$","Object","keys","length","lessons","link","previewImageLink","description","title","rating","duration","_jsx","_Fragment","children","_jsxs","to","onClick","resetOneCourse","AiOutlineArrowLeft","size","src","concat","alt","width","height","reduce","acc","l","ReactPlayer","ref","url","controls","_toConsumableArray","sort","lesson1","lesson2","order","map","lesson","AiFillUnlock","AiFillLock"],"sourceRoot":""}