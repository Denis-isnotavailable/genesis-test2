"use strict";(self.webpackChunkgenesis_test2=self.webpackChunkgenesis_test2||[]).push([[882],{2882:function(n,e,t){t.r(e),t.d(e,{default:function(){return D}});var i,s,o,r,d,u,c,l,a=t(8683),h=t(9439),x=t(2791),p=t(9434),f=t(7689),m=t(2134),g=t(6299),j=t(168),b=t(1087),v=t(6444),Z=v.ZP.div(i||(i=(0,j.Z)(["\n    width: 320px;\n    margin: 24px auto;\n    padding: 0 20px;\n\n    h1 {\n        margin-bottom: 28px;\n        text-align: center;\n        font-size: 28px;\n    }\n\n    h2, h3 {\n        margin-bottom: 28px;\n        text-align: center;\n        font-size: 20px;\n    }\n\n    @media (min-width: 768px) {        \n        width: 728px;\n        \n        h1 {            \n            font-size: 40px;\n        }\n\n        h2 {\n            font-size: 24px;\n        }\n    }\n\n    @media (min-width: 1064px) {        \n        width: 1024px;     \n        \n        h1 {\n            margin-bottom: 48px;            \n            font-size: 48px;\n        }\n\n        h2 {\n            font-size: 28px;\n        }\n    }\n"]))),k=v.ZP.div(s||(s=(0,j.Z)(["\n    width: 100%;\n    height: 140px;\n    margin-bottom: 24px;\n\n    @media (min-width: 768px){\n        margin-bottom: 32px;\n        height: 320px;\n    }\n\n    @media (min-width: 1064px) {\n        height: 450px;\n    }\n"]))),w=v.ZP.ul(o||(o=(0,j.Z)(["\n    margin-bottom: 24px;\n    padding: 0 20px;\n    font-size: 18px;\n\n    span {\n        font-weight: 500;\n    }\n\n    @media (min-width: 768px){\n        margin-bottom: 32px;\n        font-size: 24px;\n    }\n"]))),L=(0,v.ZP)(b.OL)(r||(r=(0,j.Z)(["\n    width: 108px;\n    height: 24px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin-bottom: 12px;\n    padding: 0;\n    border: none;\n    background-color: transparent;\n    cursor: pointer;\n    text-decoration: none;\n\n    font-weight: 700;\n    font-size: 18px;\n    line-height: 1.17;\n\n    color: #000000;\n"]))),z=t(3433),P=t(6710),T=v.ZP.ul(d||(d=(0,j.Z)([""]))),S=v.ZP.li(u||(u=(0,j.Z)(["\n    border-radius: 6px;\n\n    background-color: ",";\n\n    cursor: pointer;\n\n    :not(:last-child) {\n        margin-bottom: 16px;\n    }\n\n    h4 {\n        margin-left: 20px;\n    }\n\n    transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n    :hover,\n    :focus {\n        background-color: ",";        \n    }\n"])),(function(n){return n.status?"#ffffff":"#ed9e9e"}),(function(n){return n.status&&"#dbdbe1"})),y=v.ZP.div(c||(c=(0,j.Z)(["\n    display: flex;\n    align-items: center;\n\n    height: 48px;\n"]))),I=v.ZP.div(l||(l=(0,j.Z)(["\n    margin-bottom: 24px; \n\n    @media (min-width: 768px){\n        margin-bottom: 32px;        \n    }\n"]))),O=t(184),C=function(n){var e=n.lessons,t=n.currentLesson,i=n.currentLessonTime,s=n.handleSetLessonData,o=n.handleSetLessonTime,r=(0,x.useRef)();return(0,O.jsx)(T,{children:(0,z.Z)(e).sort((function(n,e){return n.order-e.order})).map((function(n){return(0,O.jsxs)(S,{onClick:function(){return s(n)},status:"unlocked"===n.status&&n.link,children:[(0,O.jsxs)(y,{children:[(0,O.jsx)("div",{children:"unlocked"===n.status&&n.link?(0,O.jsx)(m.Lk_,{size:38}):(0,O.jsx)(m.oF6,{size:38})}),(0,O.jsxs)("h4",{children:["Lesson ",n.order,": ",n.title]})]}),(null===t||void 0===t?void 0:t.order)===(null===n||void 0===n?void 0:n.order)&&"locked"!==(null===n||void 0===n?void 0:n.status)&&n.link&&(0,O.jsx)(I,{children:(0,O.jsx)(P.Z,{ref:r,url:n.link,muted:!0,pip:!0,stopOnUnmount:!1,config:{file:{hlsOptions:{autoStartLoad:!0,startPosition:i}}},controls:!0,width:"100%",onProgress:function(e){return(null===t||void 0===t?void 0:t.order)===(null===n||void 0===n?void 0:n.order)&&o(e.playedSeconds)}})})]},n.id)}))})},D=function(){var n=(0,p.I0)(),e=(0,f.UO)().id,t=(0,p.v9)((function(n){return n.courses.oneCourse})),i=(0,p.v9)((function(n){return n.courses.isLoading})),s=(0,p.v9)((function(n){return n.currentLessons.currentWatchingLesson})),o=(0,x.useState)(null),r=(0,h.Z)(o,2),d=r[0],u=r[1],c=(0,x.useState)(0),l=(0,h.Z)(c,2),j=l[0],b=l[1];(0,x.useEffect)((function(){return n((0,g.oD)(e)),function(){return n((0,g.AT)())}}),[]),(0,x.useEffect)((function(){var n=s.findIndex((function(n){return n.courseId===e}));if(-1!==n)u(s[n]),b(s[n].currentLessonTime);else if(0!==Object.keys(t).length){var i=t.lessons.findIndex((function(n){return 1===n.order}));u(t.lessons[i])}}),[t]),(0,x.useEffect)((function(){return function(){0!==j&&((0,a.Z)((0,a.Z)({},d),{},{currentLessonTime:j,courseId:e}),n((0,g.To)((0,a.Z)((0,a.Z)({},d),{},{currentLessonTime:j,courseId:e}))))}}),[d,j,n,e]);var v=t.previewImageLink,z=t.description,P=t.title,T=t.rating,S=t.lessons,y=t.duration;return(0,O.jsx)(O.Fragment,{children:!i&&0!==Object.keys(t).length&&(0,O.jsxs)(Z,{children:[(0,O.jsxs)(L,{to:"/",children:[(0,O.jsx)(m.kyg,{size:24})," GO BACK"]}),(0,O.jsx)(k,{children:(0,O.jsx)("img",{src:"".concat(v,"/cover.webp"),alt:"course poster",width:"100%",height:"100%"})}),(0,O.jsx)("h1",{children:P}),(0,O.jsx)("h2",{children:z}),(0,O.jsxs)(w,{children:[(0,O.jsxs)("li",{children:["Lessons: ",(0,O.jsx)("span",{children:S.reduce((function(n,e){return"unlocked"===e.status?n+1:n}),0)})]}),(0,O.jsxs)("li",{children:["Rating: ",(0,O.jsx)("span",{children:T})]}),(0,O.jsxs)("li",{children:["Duration: ",(0,O.jsxs)("span",{children:[y," hours"]})]})]}),(0,O.jsx)("h3",{children:"Choose the lesson to watch"}),(0,O.jsx)(C,{lessons:S,currentLesson:d,currentLessonTime:j,handleSetLessonData:function(n){"unlocked"===n.status&&(u(n),b(0))},handleSetLessonTime:function(n){0!==n&&n-j>=2&&b(n)}})]})})}}}]);
//# sourceMappingURL=882.c07a2b56.chunk.js.map